environment:
  type: "Unity"
  name: "./UnityBuilds/SearingSpotlightsCoin/SearingSpotlights"
  frame_skip: 1
  last_action_to_obs: True
  last_reward_to_obs: True
  obs_stacks: 1
  grayscale: False
  resize_vis_obs: [84, 84]
  reset_params:
    start-seed: 0
    num-seeds: 200
    # Number of spotlights that are spawned across an episode
    # The more spotlights are spawned the longer the episode lasts
    num-spotlight-spawns: 50
    # The initial interval of spawning spotlights, which is linearly decayed over spawns
    # A lower interval means a higher frequency of spawns
    initial-spawn-interval: 12
    # The lower bound of the spawn interval, which is added as offset
    # The interval never falls below this threshold
    interval-threshold: 4
    # The range (min, max) of the to be sampled spotlight speed
    min-spotlight-speed: 20
    max-spotlight-speed: 45
    # The range (min, max) of the to be sampled spotlight radius
    min-spotlight-radius: 10
    max-spotlight-radius: 15
    # The amount of damage that the spotlight may cause on the agent
    spotlight-damage: 0.0
    # The interval on when to turn the light back on
    light-on-interval: 600
    # The duration for the light to be on
    light-on-duration: 3
    # The duration of dimming the light until on or off
    light-dim-duration: 10
    # The number of coins to be collected until the exit is open
    # If there is no exit, the episode will terminate after collecting all coins
    num-coins: 1
    # The scale of the coins
    coin-scale: 1.0
    # Whether to spawn an exit that can be used upon collecting all coins
    use-exit: True
    # The scale of the exit
    exit-scale: 1.0
    # The speed of the agent
    agent-speed: 35
    # The agent's health, the episode terminates once the health falls to zero
    agent-health: 100.0
    # The scale of the agent
    agent-scale: 1.0
    # Reward Function
    # Punish the agent for being inside a spotlight
    reward-inside-spotlight: 0.0
    # Don't signal a reward to the agent while being not in range of a spotlight
    reward-outside-spotlight: 0.0
    # Signal a reward for reaching the exit once all coins were collected
    reward-exit: 1.0
    # Punish the agent if the episode reaches max steps
    reward-max-steps: -1.0
    # Reward the agent for picking up a coin
    reward-coin: 0.33

model:
  load_model: False
  model_path: "./checkpoints/ss_coin_6/20211112-215004_2/ss_coin_6-8945.pt"
  checkpoint_interval: 200
  activation: "relu"
  vis_encoder: "cnn"
  vec_encoder: "linear"
  num_vec_encoder_units: 128
  hidden_layer: "default"
  num_hidden_layers: 1
  num_hidden_units: 512
  recurrence:
    layer_type: "gru"
    sequence_length: 128
    hidden_state_size: 512
    hidden_state_init: "zero"
    reset_hidden_state: True
    residual: False

evaluation:
  evaluate: False
  n_workers: 3
  seeds: [1001, 1002, 1003, 1004, 1005]
  interval: 200

sampler:
  type: "TrajectorySampler"
  n_workers: 16
  worker_steps: 256

trainer:
  algorithm: "PPO"
  resume_at: 0
  gamma: 0.99
  lamda: 0.95
  updates: 10000
  epochs: 3
  n_mini_batches: 8
  value_coefficient: 0.25
  max_grad_norm: 0.5
  share_parameters: True
  learning_rate_schedule:
    initial: 3.0e-4
    final: 3.0e-5
    power: 1.0
    max_decay_steps: 10000
  beta_schedule:
    initial: 0.0001
    final: 0.00001
    power: 1.0
    max_decay_steps: 10000
  clip_range_schedule:
    initial: 0.2
    final: 0.2
    power: 1.0
    max_decay_steps: 5000